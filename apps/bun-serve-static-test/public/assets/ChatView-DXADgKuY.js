import{b as Q,d as f,e as E,o as c,f as g,w as d,r as b,n as X,g as ee,u as r,W as te,B as F,m as x,j as se,h as w,i as u,k as v,G as ne,U as oe,Y as ae,Z as re,l as ie,p as le,q as B,A as de,s as y,t as ue,v as ce,x as fe,c as h,a as G,y as pe,z as k,C as W,D as me,E as ge,F as _e,H as ve,I as be,J as ye,K as he,L as xe,M as we,N as Me}from"./index-BIHdoVVg.js";/**
 * @license lucide-vue-next v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=Q("MenuIcon",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),$e=f({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const n=E(e,t);return(a,i)=>(c(),g(r(te),X(ee(r(n))),{default:d(()=>[b(a.$slots,"default")]),_:3},16))}}),Be=f({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const s=F(e);return(o,n)=>(c(),g(r(se),x({class:"outline-none"},r(s)),{default:d(()=>[b(o.$slots,"default")]),_:3},16))}}),Pe=f({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const s=e,o=t,n=w(()=>{const{class:i,...l}=s;return l}),a=E(n,o);return(i,l)=>(c(),g(r(oe),null,{default:d(()=>[u(r(ne),x(r(a),{class:r(v)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s.class)}),{default:d(()=>[b(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),z=f({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const t=e,s=w(()=>{const{class:n,...a}=t;return a}),o=F(s);return(n,a)=>(c(),g(r(ae),x(r(o),{class:r(v)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.inset&&"pl-8",t.class)}),{default:d(()=>[b(n.$slots,"default")]),_:3},16,["class"]))}}),je=f({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=w(()=>{const{class:o,...n}=t;return n});return(o,n)=>(c(),g(r(re),x(s.value,{class:r(v)("-mx-1 my-1 h-px bg-muted",t.class)}),null,16,["class"]))}}),Ve=f({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const t=e,s=w(()=>{const{class:n,...a}=t;return a}),o=F(s);return(n,a)=>(c(),g(r(ie),x(r(o),{class:r(v)("px-2 py-1.5 text-sm font-semibold",n.inset&&"pl-8",t.class)}),{default:d(()=>[b(n.$slots,"default")]),_:3},16,["class"]))}}),Ce=le("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",xs:"h-7 rounded px-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10","icon-sm":"h-8 w-8 p-1"}},defaultVariants:{variant:"default",size:"default"}}),J=f({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(e){const t=e;return(s,o)=>(c(),g(r(de),{as:s.as,"as-child":s.asChild,class:B(r(v)(r(Ce)({variant:s.variant,size:s.size}),t.class))},{default:d(()=>[b(s.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),Se=f({__name:"MessageOptions",emits:["flag","hide","report"],setup(e){return(t,s)=>(c(),g(r($e),null,{default:d(()=>[u(r(Be),{"as-child":""},{default:d(()=>[u(J,{size:"icon-sm",variant:"ghost"},{default:d(()=>[u(r(Oe))]),_:1})]),_:1}),u(r(Pe),null,{default:d(()=>[u(r(Ve),null,{default:d(()=>[y("Options")]),_:1}),u(r(je)),u(r(z),{onClick:s[0]||(s[0]=o=>t.$emit("flag"))},{default:d(()=>[y("Flag")]),_:1}),u(r(z),{onClick:s[1]||(s[1]=o=>t.$emit("hide"))},{default:d(()=>[y("Hide")]),_:1}),u(r(z),{onClick:s[2]||(s[2]=o=>t.$emit("report"))},{default:d(()=>[y("Report")]),_:1})]),_:1})]),_:1}))}});var _=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(s,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}),s}var L={},R={},P={};Object.defineProperty(P,"__esModule",{value:!0});P.cap=void 0;const De=e=>e.charAt(0).toUpperCase()+e.slice(1);P.cap=De;var j={};Object.defineProperty(j,"__esModule",{value:!0});j.uuidv4=void 0;const ze=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)});j.uuidv4=ze;var V={};const Fe=K(ue),ke=K(ce);Object.defineProperty(V,"__esModule",{value:!0});V.cn=void 0;const Ae=Fe,Ne=ke,He=(...e)=>(0,Ne.twMerge)((0,Ae.clsx)(e));V.cn=He;var C={};Object.defineProperty(C,"__esModule",{value:!0});C.chunkArray=void 0;const Te=(e,t)=>{const s=[];for(let o=0;o<e.length;o+=t)s.push(e.slice(o,o+t));return s};C.chunkArray=Te;(function(e){var t=_&&_.__createBinding||(Object.create?function(o,n,a,i){i===void 0&&(i=a);var l=Object.getOwnPropertyDescriptor(n,a);(!l||("get"in l?!n.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(o,i,l)}:function(o,n,a,i){i===void 0&&(i=a),o[i]=n[a]}),s=_&&_.__exportStar||function(o,n){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),s(P,e),s(j,e),s(V,e),s(C,e)})(R);(function(e){var t=_&&_.__createBinding||(Object.create?function(o,n,a,i){i===void 0&&(i=a);var l=Object.getOwnPropertyDescriptor(n,a);(!l||("get"in l?!n.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(o,i,l)}:function(o,n,a,i){i===void 0&&(i=a),o[i]=n[a]}),s=_&&_.__exportStar||function(o,n){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&t(n,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),s(R,e)})(L);const q=fe("messages",{state:()=>({messages:[]}),getters:{allMessages(e){return e.messages},visibleMessages(e){return e.messages.filter(t=>!t.isHidden)}},actions:{append(e){this.messages.push({id:L.uuidv4(),content:e,isFlagged:!1,isHidden:!1})},markAsFlagged(e){const t=this.messages.find(s=>s.id===e);t&&(t.isFlagged=!0)},markAsHidden(e){const t=this.messages.find(s=>s.id===e);t&&(t.isHidden=!0)}}}),Ue=f({__name:"Message",props:{message:{}},setup(e){const t=e,s=q();function o(){s.markAsFlagged(t.message.id)}function n(){s.markAsHidden(t.message.id)}return(a,i)=>(c(),h("div",{class:B(r(v)({"border-red-500 border rounded-sm":a.message.isFlagged},"p-2 pl-0 flex gap-2 items-center"))},[u(Se,{onFlag:o,onHide:n}),G("span",null,pe(a.message.content),1)],2))}});typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ie=e=>typeof e<"u";function We(e){return JSON.parse(JSON.stringify(e))}function Ee(e,t,s,o={}){var n,a,i;const{clone:l=!1,passive:S=!1,eventName:Y,deep:A=!1,defaultValue:Z,shouldEmit:N}=o,m=me(),H=s||(m==null?void 0:m.emit)||((n=m==null?void 0:m.$emit)==null?void 0:n.bind(m))||((i=(a=m==null?void 0:m.proxy)==null?void 0:a.$emit)==null?void 0:i.bind(m==null?void 0:m.proxy));let M=Y;M=M||`update:${t.toString()}`;const T=p=>l?typeof l=="function"?l(p):We(p):p,U=()=>Ie(e[t])?T(e[t]):Z,I=p=>{N?N(p)&&H(M,p):H(M,p)};if(S){const p=U(),D=k(p);let O=!1;return W(()=>e[t],$=>{O||(O=!0,D.value=T($),ge(()=>O=!1))}),W(D,$=>{!O&&($!==e[t]||A)&&I($)},{deep:A}),D}else return w({get(){return U()},set(p){I(p)}})}const Ge=f({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=Ee(s,"modelValue",t,{passive:!0,defaultValue:s.defaultValue});return(a,i)=>_e((c(),h("input",{"onUpdate:modelValue":i[0]||(i[0]=l=>be(n)?n.value=l:null),class:B(r(v)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s.class))},null,2)),[[ve,r(n)]])}}),Je=f({__name:"NewMessage",props:{class:{}},emits:["send"],setup(e,{emit:t}){const s=t,o=e,n=k(""),a=()=>{n.value.trim()!==""&&(s("send",n.value),n.value="")};return(i,l)=>(c(),h("div",{class:B(r(v)("flex gap-4",o.class))},[u(Ge,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=S=>n.value=S),onKeyup:ye(a,["enter"]),placeholder:"Type a message"},null,8,["modelValue"]),u(J,{onClick:a},{default:d(()=>[y("Send")]),_:1})],2))}}),Ke={class:"relative w-11/12 mx-auto h-[95vh]"},Le={class:"flex flex-col gap-4"},qe=f({__name:"ChatView",setup(e){const t=k(null),s=q();he(()=>{t.value=new WebSocket("ws://localhost:3000/chat"),t.value.onmessage=n=>{s.append(n.data)}});const o=n=>{t.value&&t.value.send(n)};return xe(()=>{t.value&&t.value.close(),console.log("Connection closed by client")}),(n,a)=>(c(),h("div",Ke,[G("div",Le,[(c(!0),h(we,null,Me(r(s).visibleMessages,(i,l)=>(c(),g(Ue,{key:l,message:i},null,8,["message"]))),128))]),u(Je,{onSend:o,class:"absolute w-full bottom-0"})]))}});export{qe as default};
